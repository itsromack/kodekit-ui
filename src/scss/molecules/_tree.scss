/*
Tree

markup:
<div class="k-tree">
    <div id="k-jqtree"></div>
</div>
<script>Add something here?</script>

Styleguide 2.24

*/

// @TODO: Styling like in docman with folders and correct spacers
// @TODO: document this and put it in the styleguide / refactor

.k-tree {
  @include clearfix;
  margin: $list-spacing 0;

  .jqtree-element {
    padding: 0 $spacing-tiny 0 $spacing;

    &:hover,
    &:focus {
      background: $jqtree-hover-background;
    }
  }

  .jqtree-selected {
    & > .jqtree-element {
      color: $color-accent;
    }
  }
}

.jqtree-tree {
  @include clearfix;

  /* Reset default ul li styling */
  &, ul {
    @include reset;
    @include clearfix;
    float: left;
    min-width: 100%;
  }

  @include rtl {
    &, ul {
      float: right;
    }
  }
}

.jqtree-folder {
  @include clearfix;
}

.jqtree-element {
  position: relative;
  display: block;
  width: 100%;
  font-size: 0;
  line-height: 0;
  padding: 0;
  white-space: nowrap;
  height: auto;
  cursor: pointer;

  a {
    padding: 0;
    background: transparent;
  }

  .jqtree-toggler {
    height: 0;
    padding-top: 30px;
    overflow: hidden;
    color: inherit;
  }
}

.jqtree-whitespace,
.jqtree-toggler,
.jqtree-icon,
.jqtree-title {
  display: inline-block;
  font-size: 12px;
  height: 30px;
  line-height: 30px;
  vertical-align: middle;
}

.jqtree-whitespace,
.jqtree-toggler,
.jqtree-icon {
  width: 18px;
  text-align: center;
}

.k-icon-folder {
  @include icon-before(k-folder, true) {
    font-size: 16px;
    margin-bottom: -1px;
  }
}

.k-icon-folder--open {
  @include icon-before(k-folder_open, true) {
    font-size: 16px;
    margin-bottom: -1px;
  }
}

.jqtree-title {
  padding: 0 0 0 5px;

  @include rtl {
    padding: 0 5px 0 0;
  }
}

.jqtree-toggler {
  @include psuedo(before) {
    top: 50%;
    margin-top: -2px;
    left: 4px;
    @include arrow(bottom);
    @include transition;

    @include rtl {
      left: auto;
      right: 4px;
    }
  }

  &:hover,
  &:focus {
    &:before {
      border-top-color: black;
    }
  }

  &.jqtree-closed {
    &:before {
      transform: rotate(-90deg);

      @include rtl {
        transform: rotate(90deg);
      }
    }
  }
}

.jqtree-selected {
  & > .jqtree-element {
    font-weight: $bold;
  }
}

.jqtree-closed {
  ul {
    display: none;
  }
}